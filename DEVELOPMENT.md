# Hatogame 開発ガイド

## プロジェクト完了状況 ✅

### 実装済み機能
- [x] プロジェクトセットアップ（Vite + TypeScript）
- [x] ゲーム基本システム
  - [x] プレイヤー（鳩）の移動・射撃
  - [x] 敵キャラクターの自動スポーン
  - [x] 弾丸システム（プレイヤー・敵）
  - [x] 当たり判定システム
  - [x] スコアシステム
  - [x] ゲームオーバー・リスタート
- [x] ビジュアル要素
  - [x] 鳩のキャラクターデザイン
  - [x] 敵キャラクターデザイン
  - [x] 弾丸エフェクト
  - [x] 背景グラデーション
- [x] UI/UX
  - [x] スコア表示
  - [x] ゲームオーバー画面
  - [x] レスポンシブデザイン
- [x] 開発環境
  - [x] TypeScript設定
  - [x] ビルドシステム
  - [x] ホットリロード
- [x] デプロイ準備
  - [x] Firebase設定
  - [x] ビルド最適化

## ゲームの遊び方

### 基本操作
- **矢印キー** または **WASD**: 鳩の移動
- **スペースキー**: 弾丸発射

### ゲームルール
1. プレイヤーは鳩を操作
2. 上から降ってくる敵を撃ち落とす
3. 敵に触れるか、敵の弾丸に当たるとゲームオーバー
4. 敵を倒すとスコアが加算される

## 技術仕様

### アーキテクチャ
```
src/
├── main.ts          # エントリーポイント
├── style.css        # スタイルシート
├── game/            # ゲームロジック
│   ├── game.ts      # メインゲームループ
│   ├── entities.ts  # ゲームオブジェクト
│   └── input.ts     # 入力処理
└── utils/           # ユーティリティ
    └── math.ts      # 数学関数・ヘルパー
```

### 設計パターン
- **オブジェクト指向**: ゲームエンティティの管理
- **コンポーネントシステム**: 分離された責任
- **ゲームループ**: requestAnimationFrame使用

## 次の開発ステップ

### Phase 2: ゲーム機能拡張
- [ ] 効果音・BGM追加
- [ ] パーティクルエフェクト
- [ ] 複数レベル/ステージ
- [ ] パワーアップアイテム
- [ ] 異なる敵タイプ

### Phase 3: UX改善
- [ ] メニュー画面
- [ ] 設定画面
- [ ] ローカルハイスコア
- [ ] モバイル対応

### Phase 4: ソーシャル機能
- [ ] オンラインランキング
- [ ] ソーシャルシェア
- [ ] プレイヤー統計

## 開発コマンド

```bash
# 開発サーバー起動
npm run dev

# ビルド
npm run build

# プレビュー
npm run preview

# Firebase デプロイ
npm run deploy
```

## トラブルシューティング

### よくある問題

1. **Canvas要素が見つからない**
   - HTMLファイルのcanvas要素のIDを確認
   - DOMContentLoadedイベントを待機

2. **TypeScriptエラー**
   - tsconfig.jsonの設定を確認
   - 型定義ファイルの存在確認

3. **Firebaseデプロイエラー**
   - firebase.jsonの設定確認
   - 認証状態の確認

## パフォーマンス最適化

### 実装済み最適化
- requestAnimationFrame使用
- オブジェクトプーリング（弾丸削除）
- 画面外オブジェクトの自動削除

### 将来の最適化案
- スプライト画像の使用
- オフスクリーンキャンバス
- WebGL移行検討
